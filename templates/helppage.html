{% extends "base.html" %}

{% load static from staticfiles %}

{% block headers %}
<link type="text/css" rel="stylesheet" href="{% static 'ui/css/content.css' %}" />
<link type="text/css" rel="stylesheet" href="{% static 'ui/css/helppage.css' %}" />
{% endblock %}

{% block title %}
{% if not user.is_authenticated %}
<div id="title">
	<h1 id="page_title" class="hidden-xs">Welcome to {{ HOUSE }}</h1>
	<h1 class="visible-xs sub_title" style="margin: 0;">{{ HOUSE }}</h1>
	<br />
</div> <!-- close "title" -->
{% endif %}
{% endblock %}

{% block content %}
{% if not user.is_authenticated %}
	<p>Welcome!  This is a virtual gathering place for members of {{ HOUSE }} as well as a community outreach and general information site.
	</p>
	<p>If you are a new member, you can request an account by clicking <a href="{% url 'request_profile' %}">here</a> or on the request profile link
	in the menu above.  Once your request is submitted, an admin will contact you.
	If you are currently a member, please login to access member forums, manager requests, event postings, and announcements.
	</p>
	<p>This website is an instance of a project called "Farnsworth," planned and executed by <a href="https://.github.com/knagra/">Karandeep Singh Nagra</a>,
	with help from <a href="https://.github.com/naderm">Nader Morshed</a>.
	It was originally developed to encourage the use of new technologies in the <a href="http://bsc.coop">Berkeley Student Cooperative</a>
	and provide a better online presence for houses in the cooperative.
	The site is designed abstractly and easily set up for any other house with a few settings changes.
	Several example implementations of Farnsworth exist for you to mimic.
	If you would like to implement an instance of Farnsworth for your house, please contact Karandeep at
	<a href="mailto:karandeepsnagra@gmail.com">karandeepsnagra@gmail.com</a>.
	</p>
	<p>Farnsworth is free and open source software.  The source code is freely available in
	<a href="https://github.com/knagra/farnsworth/">this GitHub repository</a>.
	You are encouraged to modify, expand, and share this software with others.
	The several branches of this repository represent difference implementation of Farnsworth for difference houses.
	If you would like to contribute to this project, 
	</p>
{% else %}
	{% if user.is_superuser %}
	<div class="row">
	<div id="managing_users" class="col-md-6">
		<h1 class="sub_title text-center">Admin: Managing Users <small><a name="managing_users" title="A link to this section" href="#managing_users">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="managing_users_body" class="toggleable">
		<hr style="width: 75%;" />
		<h2 class="sub_subtitle">Adding Users <a name="adding_users" title="A link to this sub-section" href="#adding_users">&sect;</a></h2>
			<p>You can add a user from the <a target="_blank" href="{% url 'custom_add_user' %}">add user page</a>.  The process is fairly intuitive.
			Usernames should be unique and a single word composed of alphanumeric characters or the underscore character.
			It is recommended that e-mails and phone numbers be kept hidden from other members when creating a user.
			A user can modify her/his own profile to reveal e-mail and phone number to other members.
			</p>
			<p>The "is active" status is an indicator of whether the user can login.  You can add inactive users, but you will probably be adding active users.
			Starting alumni as inactive users is advised, as this will result in a tighter security spec for your implementation of Farnsworth.
			Doing so is permissible as alumni are not very likely to log in.  And if an alumnus does want to, s/he can e-mail you (via the e-mail listed at the
			bottom of this page to get her/his account activated.
			When an inactive user attempts to login, s/he is given a message saying her/his account is inactive.
			</p>
			<p>The "is staff" status indicates whether a user can access the <a target="_blank" href="{% url 'admin:index' %}">Django admin pages</a>.
			Use of the Django admin pages is discouraged.  If something really needs to be done at that level,
			it would be better if you wrote the page up yourself in the regular interface
			and shared it with everyone else using Farnsworth.  Writing pages is very easy.  Read the documentation at Karandeep's
			<a target="_blank" href="https://www.github.com/knagra/farnsworth/">GitHub repo</a> or contact him directly
			(e-mail: <a href="mailto:karandeepsnagra@gmail.com">karandeepsnagra@gmail.com</a>) for some quick tips.
			</p>
			<p>However, even if a user has staff status, s/he will not have any privileges without a superuser giving her/him those rights.
			This can be done from the Django admin pages.  Read the <a target="_blank" href="https://docs.djangoproject.com/">Django docs</a> to learn more.
			</p>
			<p>The "is superuser" status toggles admin rights on the site.
			A user with superuser privileges will able to access admin pages written into this interface and have full privileges in the Django admin.
			</p>
			<p>It can be useful to give users superadmin status and not give them staff status as all admin privileges in the custom admin are granted
			with superadmin status, but access to the Django admin is restricted.
			Effectively, superuser-not-staff status is a weak obfuscation-based security against users really messing things up by misusing the Django
			admin.
			</p>
			<p>Groups are fully supported by Django but are not yet supported by the custom Farnsworth interface.
			They are provided in this page in case someone wants to do further development of Django which involves groups.
			You can CTRL-click and select multiple groups from this list.
			</p>
			<p><b>You must provide a password.</b>  An option is not yet available to create users without passwords.
			This would be a neat feature if you care to implement it yourself.  If you want to create a user that will probably not use the site for a while
			(alumni, for example), it is recommended that you toggle off the "is active" option for the user.  You can toggle it back on later by modifying
			the user when the user wants access to the site.
			</p>
		<h2 class="sub_subtitle">Modifying Users <a name="modifying_users" title="A link to this sub-section" href="#modify_users">&sect;</a></h2>
			<p>A list of all users can be seen at the <a target="_blank" href="{% url 'custom_manage_users' %}">manage users page</a>.
			This page will give you a quick run-down of users, their e-mail addresses, phone numbers, and active, staff and superuser statuses.
			The tables are sortable.  You can click on any heading to sort the table by that column.
			You can also hold shift and click multiple column headings to sort by all those columns successively.
			By default, the tables are sorted by last name and then first name.
			Clicking on an e-mail address will prompt you to send an e-mail to that address.
			You can click on any user's name from the manage users page to edit that user's profile.
			</p>
			<p>From the modify user page, you can change a user's personal details, member status, etc., as well as change her/his password.
			To prevent permanent lockout, if you are the only superadmin, <b>you will be prevented from changing your own superadmin status</b>.
			Everything else will be saved when you try to change your own profile as the only admin.
			</p>
			<p><b>It is highly recommended that users not be deleted.  You should instead deactivate them.</b>
			But if you really need to delete a user, you can do so from the <a target="_blank" href="{% url 'admin:index' %}">Django admin pages</a>.
			Doing so will delete all threads and requests the user posted, all messages and responses the user posted, as well as all events.
			This can mess up all manner of things.  So it's recommended that you not do it.
			</p>
			<p>You cannot modify usernames from the custom admin pages, but you can do so from the Django admin pages.
			It doesn't seem productive to allow such a change as the user who owns the account will locked out of his/her account and unable even to know
			what happened.
			</p>
			<p>You are also discouraged from modifying the anonymous user (username "{{ ANONYMOUS_USERNAME }}").
			When you open this user's edit page, a warning will be displayed saying the same.
			More on the anonymous user is covered under the <a href="#anonymous_user">Anonymous User sub-section</a>
			of the <a href="#admin_miscellaneous">Admin: Miscellaneous section</a>.
			</p>
			<p>On every user profile page (a general user page accessed from various parts of the site, most notably the
			<a href="{% url 'member_directory' %}">member directory</a>),
			there will appear a yellow edit button in the top right corner if an admin is accessing the page.
			This button does not appear for non-superadmin users; so you don't need to worry about that.
			Clicking this button will redirect you to the modify user page (an admin page accessed usually through the manage users page).
			</p>
			<p>The modify user page is almost identical to the <a href="{% url 'custom_add_user' %}">add user page</a>, with a few exceptions.
			First, the username, first name, and last name fields are missing.  And second, there is a separate form at the bottom to change the password.
			You can update the profile or change the password for the user, but not both in one HTTP request.
			AJAX is not currently supported.  This is another cool feature, if you care to implement it.
			</p>
		<h2 class="sub_subtitle">Profile Requests <a name="profile_requests" title="A link to this sub-section" href="#profile_requests">&sect;</a></h2>
			<p>Sometimes - especially at the beginning of the semester - you will get requests for new profiles.
			These can be managed from the <a href="{% url 'manage_profile_requests' %}">manage profile requests</a> page.
			Profile requests contain most of the information affiliated with a prospective user profile.
			You can sort this table as well, in the same way described in the <a href="#modifying_users">Modifying Users</a> sub-section above.
			You can click on the e-mail link to write an e-mail to the user or click the user's proposed username to modify the request.
			</p>
			<p>The form in the modify profile request page is almost identical to the one in the add user page
			(detailed <a href="#adding_users">above</a>), with two exceptions.
			First, the information the user provided in her/his profile request is used to fill some of the fields of the form.
			Second, there is a button next to the add user button that allows you to delete the request permanently.
			And third, there is no password field since the user provided her/his own password when submitting the request.
			</p>
			<p>Please note that if a request is deleted, there is no way to retrieve it.
			The user will have to fill another request, or you can add the user manually
			(check the <a href="#adding_users">adding users</a> section above for more info).
			</p>
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #managing_users_body -->
	</div> <!-- #managing_users -->
	<div id="admin_misc" class="col-md-6">
		<h1 class="sub_title text-center">Admin: Miscellaneous <small><a name="admin_miscellaneous" title="A link to this section" href="#admin_miscellaneous">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="admin_misc_body" class="toggleable">
		<hr style="width: 75%;" />
		<h2 class="sub_subtitle">Anonymous User <a name="anonymous_user" title="A link to this sub-section" href="#anonymous_user">&sect;</a></h2>
			<p>Farnsworth comes prepackaged with an anonymous user.  This user (and profile) is autogenerated the first time you start an anonymous session.
			The default username is {{ ANONYMOUS_USERNAME }}.  This can be changed from the settings file (/path/to/head/farnsworth/settings.py)
			<b>before starting a first anonymous session.  Don't change this setting if the anonymous user already exists.</b>
			The autogenerated user is named Anonymous Coward.
			</p>
			<p>The anonymous user is intended for logins on common space machines.  Since users will want access to the site fairly quickly on common space
			machines and won't want to login and logout constantly to check minor things, the anonymous user can be used to fill the need.
			The anonymous user is prevented from up/down voting requests or RSVP-ing to events.  But the account is permitted to start threads,
			post messages, make requests, post responses, and start events.
			</p>
			<p>An anonymous session is started from the <a href="{% url 'utilities' %}">utilities</a> page.  Login on a common space machine
			and go to this page and start an anonymous session.  When the anonymous user is logged in, the profile links are disabled and replaced by
			a login link.  Users can temporarily login to assume identity.  When a logged in user logs out, the anonymous user will be logged in and
			the anonymous session will resume.  Anonymous sessions are easy to detect as the login/profile link (the second link in the menu) is red
			during an anonymous session.
			</p>
			<p><b>Logout is disabled for the anonymous user.</b>  To logout the anonymous user and end the anonymous session, login as yourself in the
			anonymous session, go to the <a href="{% url 'utilities' %}">utilities</a> page, and end the anonymous session.
			This will logout the anonymous user and end the anonymous session.
			Your session will resume.  So make sure to logout yourself if you intend to leave the computer.
			</p>
			<p>The anonymous user is also forbidden from modifying the anonymous user profile.
			An error message will be displayed if a user tries to modify the anonymous user profile from the my profile page.
			The member directory excludes the anonymous user and the profile for the anonymous user
			</p>
		<h2 class="sub_subtitle">Model Recounts <a name="recounts" title="A link to this sub-section" href="#recounts">&sect;</a></h2>
			<p>To save processor power and increase efficiency, Farnsworth counts thread messages and request responses very infrequently.
			These fields are incremented whenever a new message or response is posted.
			However, if messages or responses are deleted (only through the Django admin interface), or users or user profiles are deleted
			(also only through the Django admin interface), these fields can fall out of sync.
			The fact that this can happen is one of the reasons you are discouraged from using the Django admin interface.
			To further the development of Farnsworth, you are encouraged to write your own interface for doing things not currently supported.
			</p>
			<p>To correct for the possibility of the database entries for response and messages counts, a utitility is provided to recount these fields.
			The recount utility is accessed from the <a href="{% url 'utilities' %}">utilities</a> page.
			When you recount responses and messages, Farnsworth iterates over the set of requests, checks if the number of responses in the database is
			different from the number present in the model instance of each request, and if it is different, Farnsworth changes the model field of
			the request to reflect the newly counted number of responses.
			Thread messages are counted in an identical fashion.
			</p>
			<p>Since UPDATEs are heavier, resource-wise, than SELECTs, in database systems, this setup is more efficient than recounting responses or messages
			for and changing every instance of request and thread, since it reduces the number of UPDATEs while maintaining the number of SELECTs.
			</p>
			<p>Even still, the recount process may still take a while.
			Avoid having to use this utility by not messing with the Django admin interface often.
			</p>
		<h2 class="sub_subtitle">Django Admin <a name="django" title="A link to this sub-section" href="#django">&sect;</a></h2>
			<p>If you absolutely must use the Django admin interface, here are a few quick tips on how to use it.
			</p>
			<p>Django arranges its admin interface by application.  There are several applications that make up the whole of Farnsworth.
			These include an application for threads, an application for requests and announcements, and an application for events.
			You can click on the header of each of the tables to see just that application or select one of the model types listed.
			By selecting one of the listed model types, you can get a list of all model instances of that type.
			Then you can delete or modify these models.
			</p>
			<p>
			Certain fields have been disabled for models.  You can change this aspect of the program with some effort.
			If you haven't worked with Django before, contact Karandeep for more details on how to do this.
			</p>
			<p>There are also links form these pages to add new instances of models.  You can use these to manually create models,
			though this is not a very likely scenario.
			</p>
			<p>The Django auth application is used for handling user authentication.
			The auth package includes a user model and a group model.  The user model contains the core set of fields for users on this site.
			But to augment this set, a user profile model with a one-to-one relationship was created in the threads application.
			This decision was made to make it easy to integrate Farnsworth with other Django applications or with other interfaces that are Django-compatible.
			</p>
			<p><b>Note that deleting a user will delete all model instances dependent on that user instance.</b>
			This means that all threads (including mesages associated with a thread started by the user), all messages,
			all requests (including all responses associated with a request posted by the user), etc. are deleted when a user is deleted.
			Do this only if you really really <b>really</b> need to delete a user.  You will be prompted with the repercussions of deleting
			a model when you try to delete any model at all from the Django interface.
			</p>
			<p>For most cases, though, simply deactivating users is sufficient and encouraged.
			</p>
			<p>Django fully supports groups and permissions in case you ever need to implement a system that needs either or both of those features.
			For example, you can group users together by semester and then create a custom filter for the member directory or manage users page
			to see only users who are in that semester group.  This feature is not currently on the roadmap for Farnsworth but would be a useful
			feature for the future, especially as the number of users grows linearly every semester.
			</p>
			<p>Managing all models is identical through the Django admin interface.  The interface for modifying a model isntance is fairly intuitive.
			</p>
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #admin_misc_body -->
	</div> <!-- #admin_misc -->
	</div> <!-- .row -->
	<br />
	<hr class="main_divider" />
	{% endif %}
	
	{% if user.is_superuser or PRESIDENT %}
	<div class="row">
	<div id="meta_manager" class="col-md-6">
		<h1 class="sub_title text-center">President: Meta-Manager <small><a name="meta_manager" title="A link to this section" href="#meta_manager">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="meta_manager_body" class="toggleable">
		<hr style="width: 75%;" />
		<h2 class="sub_subtitle">Adding Managers <a name="adding_managers" title="A link to this sub-section" href="#adding_managers">&sect;</a></h2>
			<p>Managers are managed from the <a href="{% url 'meta_manager' %}">meta-manager</a> page.
			</p>
			<p>You can add a new manager by clicking the top right button on the meta-manager page or by going directly to
			the <a href="{% url 'add_manager' %}">add manager</a> page.  A manager position can have only one incumbent.  Keep this in mind.
			</p>
			<p>Since houses allow multiple members to hold the same position, an "active" status is available for these scenarios.
			The recommended way to have multiple members hold the same position is to create multiple types of a singular position.
			So, for example, to have a Kitchen Manager position that can have more than one incumbent, create two (or three or four, depending on your house)
			instances of Kitchen Managers (Kitchen Manager 1, Kitchen Manager 2, ...) and then deactive the excess manager positions.
			</p>
			<p>Though this may seem a shortcoming of the site, in practical terms, it's a decision between a clean end-user experience
			and a clean site admin experience.  Having multiple incumbents for the same position makes sorting and searching more cumbersome for the user.
			A simple injective relation is optimal for understanding managers and incumbents.
			</p>
			<p>Yes, this implementation does mean slightly more work for you. But it means significantly less combined mental work for end-users.
			</p>
			<p>The form to add a new manager is fairly intuitive and has lots of help text.  All fields are optional except the manager title field.
			Farnsworth auto-generates the URL key for the manager from the title you provide by lower-casing all letters and replacing spaces with underscore.
			"Kitchen Manager 1" &rarr; "kitchen_manager_1", "WRM" &rarr; "wrm", etc.  These URLs are used to reference managers in the directory
			and the meta-manager.  You will be thrown an error when adding a manager whose URL collides with a previous URL.
			</p>
			<p>The "president" status gives the user rights to do President duties, which currently include managing managers and managing request types.
			Planned expansion of these duties include managing petitions, elections, and a few other things.
			</p>
			<p>The "workshift manager" status is currently not used but is included in case a workshift package is rolled out in the future.
			</p>
			<p>The "active" status indicates whether the manager is visible in the directory to the general membership 
			</p>
			<p>The e-mail form should be for official e-mails for that manager, not personal e-mails.  Personal e-mails are under individual users' control.
			This field is optional as not all manager positions have dedicated e-mail addresses.
			</p>
			<p><b>If there is a manager position without an e-mail address and the incumbent has set her/his e-mail to be visible to everyone,
			the incumbent's e-mail will be displayed in the manager directory and in individual manager descriptions,
			with a short snippet saying that the listed e-mail address is a personal e-mail address.</b>
			</p>
			<p>So you don't need to go get the incumbent's permission and then add her/his e-mail to the manager record,
			and then delete it again when the incumbent's e-mail or the incumbent herself changes.
			Besides succinctness, this implementation gives users better control over their own information and its visibility.
			</p>
			<p>The incumbent field is optional and excludes all alumni.  Effectively, only residents and boarders can hold manager positions.
			If an incumbent for the position doesn't exist, leave the option blank (displayed as a series of dashes)
			and the position will be created without an incumbent.
			</p>
		<h2 class="sub_subtitle">Managing Managers <a name="managing_managers" title="A link to this sub-section" href="#managing_managers">&sect;</a></h2>
			<p>There is a catch in that when a user is changed from a resident or boarder to an alumnus, s/he continues to be the incumbent for the position.
			So, some maintenance on the site is required on your part at the beginning and end of each term,
			or whenever a manager position is vacated/refilled.
			</p>
			<p>For this maintenance work, you will need to modify manager instances.
			</p>
			<p>You can see a list of managers and links to their modification pages, incumbent user profile pages, and manager e-mails from
			the <a href="{% url 'meta_manager' %}">meta-manager</a> (a manager of managers) page.
			This list will tell you most of the handy information about each manager, as well.
			Unlike the manager directory, this list does not show incumbents' personal e-mails.
			The meta-manager table is sortable, just like any other table in Farnsworth.  You can hold down the Shift key and click multiple table headers
			to sort by all of the ones you select.
			</p>
			<p>When you click on the title of each manager, you will be directed to a page to modify that manager instance.
			This form is identical to the add manager form; so details will not be covered here.
			The same conditions apply and the same tests apply when you try to modify a manager as when you add a manager.
			If you try to change a manager to have the same title as a different existing manager, you will be thrown an error.
			Similarly, if the URL name resolved from the title you gave collides with the URL of a different existing manager, you will be thrown an error.
			</p>
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #meta_manager_body -->
	</div> <!-- #meta_manager -->
	
	<div id="request_types" class="col-md-6">
		<h1 class="sub_title text-center">President: Request Types <small><a name="request_types" title="A link to this section" href="#request_types">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="request_types_body" class="toggleable">
		<hr style="width: 75%;" />
		<h2 class="sub_subtitle">About Request Types <a name="about_request_types" title="A link to this sub-section" href="#about_request_types">&sect;</a></h2>
			<p>Farnsworth abstracts manager requests so that different ones can be created on the fly as needed.
			A request type is simple.  It has a name, relevant managers, an enabled status, and an optional glyphicon.
			Names should be unique and resolve to unique URLs.  URLs are resolved by lowercasing all letters and replacing space characters with underscores.
			A request type's relevant managers are all the managers to whom that requests of that type are made.
			The enabled status controls whether new requests of that type can be made.
			</p>
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- # request_types_body -->
	</div> <!-- #request_types -->
	</div> <!-- .row -->
	<br />
	<hr class="main_divider" />
	{% endif %}
	
	<div class="row">
	<div id="navigation" class="col-md-6">
		<h1 class="sub_title text-center">Navigation <small><a name="navigation" title="A link to this section" href="#navigation">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="navigation_body" class="toggleable">
		<hr style="width: 75%;" />
		
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #navigation_body -->
	</div> <!-- #navigation -->
	<div id="tips" class="col-md-6">
		<h1 class="sub_title text-center">General Tips <small><a name="tips" title="A link to this section" href="#tips">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="tips_body" class="toggleable">
		<hr style="width: 75%;" />
		
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #tips_body -->
	</div> <!-- #tips -->
	</div> <!-- .row -->
	<div class="row">
	<div id="profile" class="col-md-6">
		<h1 class="sub_title text-center">Profile Management <small><a name="profile_management" title="A link to this section" href="#profile_management">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="profile_body" class="toggleable">
		<hr style="width: 75%;" />
		<h2 class="sub_subtitle">Profile Details <a name="profile" title="A link to this sub-section" href="#profile">&sect;</a></h2>
			<p>Control over your profile is handled through the <a href="{% url 'my_profile' %}">my profile page</a>.
			You can access this page from anywhere from the top menu.
			Links to this page are also sprinkled across the website - a link appears anywhere you posted an event, request, thread message, etc.
			</p>
			<p>
			</p>
		<h2 class="sub_subtitle">Password <a name="password" title="A link to this sub-section" href="#password">&sect;</a></h2>
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #profile_body -->
	</div> <!-- #profile -->
	<br class="visible-xs visible-sm" />
	<div id="threads" class="col-md-6">
		<h1 class="sub_title text-center">Threads <small><a name="threads" title="A link to this section" href="#threads">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="threads_body" class="toggleable">
		<hr style="width: 75%;" />
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #threads_body -->
	</div> <!-- #threads -->
	</div> <!-- .row -->
	<br />
	<div class="row">
	<div id="requests" class="col-md-6">
		<h1 class="sub_title text-center">Requests <small><a name="requests" title="A link to this section" href="#requests">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="requests_body" class="toggleable">
		<hr style="width: 75%;" />
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #requests_body -->
	</div> <!-- #requests -->
	<br class="visible-xs visible-sm" />
	<div id="announcements" class="col-md-6">
		<h1 class="sub_title text-center">Announcements <small><a name="announcements" title="A link to this section" href="#announcements">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="announcements_body" class="toggleable">
		<hr style="width: 75%;" />
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #announcements_body -->
	</div> <!-- #announcements -->
	</div> <!-- .row -->
	<div class="row">
	<div id="events" class="col-md-6">
		<h1 class="sub_title text-center">Events <small><a name="events" title="A link to this section" href="#events">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div id="events_body" class="toggleable">
		<hr style="width: 75%;" />
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #events_body -->
	</div> <!-- #events -->
	<br class="visible-xs visible-sm" />
	<div id="misc" class="col-md-6">
		<h1 class="sub_title text-center">Miscellaneous <small><a name="miscellaneous" title="A link to this section" href="#miscellaneous">&sect;</a></small></h1>
		<div class="text-center"><a class="toggle_div"><span class="glyphicon glyphicon-collapse-down"></span> toggle display <span class="glyphicon glyphicon-collapse-up"></span></a></div>
		<div class="misc_body" class="toggleable">
		<hr style="width: 75%;" />
		<div class="text-center"><a class="inner_toggle"><span class="glyphicon glyphicon-collapse-up"></span> hide</a></div>
		</div> <!-- #misc_body -->
	</div> <!-- #misc -->
	</div> <!-- .row -->
{% endif %}
{% endblock %}

{% block endscripts %}
<script>
$(document).ready(function() {
	var wi = $(window).width();
	if (wi <= 768 && $('a.toggle_div').parent().next('div.toggleable')) {
		$('a.toggle_div').parent().next('div.toggleable').hide();
	} else {
		$('a.toggle_div').parent().next('div').show();
		$('a.toggle_div').parent().next('div').addClass('toggleable');
	}
	$(window).resize(function() {
		var wi = $(window).width();
		if (wi <= 768 && $('a.toggle_div').next('div.toggleable')) {
			$('a.toggle_div').parent().next('div.toggleable').hide();
		} else {
			$('a.toggle_div').parent().next('div.toggleable').show();
		}
	});
	$('a.toggle_div').click(function() {
		$(this).parent().next('div').toggle();
		$(this).parent().next('div').toggleClass('toggleable');
	});
	$('a.inner_toggle').click(function() {
		$(this).parent().parent().toggle();
		$(this).parent().parent().toggleClass('toggleable');
	});
});
</script>
{% endblock %}
